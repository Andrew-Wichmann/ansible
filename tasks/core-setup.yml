- name: Install System Packages 1 (build-essential)
  become: true
  apt:
    name: ["build-essential"]
  tags:
    - install
    - neovim
    - core

- name: Install System Packages 2 (unzip)
  become: true
  apt:
    name: [ "unzip" ]
  tags:
    - install
    - neovim
    - core

- name: Install System Packages 3 (the rest)
  become: true
  apt:
    name: [ "curl", "htop", "sway", "nvidia-settings", "pavucontrol", "i3status", "wl-clipboard", "debconf-utils", "lightdm" ]
  tags:
    - install
    - core

- name: Set LightDM as display manager 
  become: true
  script: echo lightdm shared/default-x-display-manager select lightdm | debconf-set-selections -v
  tags:
    - install
    - core

- name: Set sway as default WM
  become: true
  copy:
    content: |
      [Seat:*]
      user-session=sway
    dest: "/etc/lightdm/lightdm.conf.d/50-sway.conf"
    mode: '0644'

